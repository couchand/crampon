# generated by crampon

class Factory
  build: (tag) ->
    switch tag.tag
      when 'CustomLabels'
        Builder = CustomLabel
      when 'labels'
        Builder = Label
      else throw new Error "unknown tag type #{tag.tag}"

    thing = new Builder()
    tag.getchildren().forEach (child) ->
      thing.set child.tag, child.text, child
    thing

factory = new Factory()

class CustomLabel
  constructor: ->
    @labels = {}
  set: (field, value, tag) ->
    switch field
      when 'labels'
        thing = factory.build tag
        @labels[thing.fullName] = thing
      else throw new Error "unknown field #{field} on CustomLabels object"

class Label
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'fullName'
        @fullName = value
      when 'language'
        @language = value
      when 'protected'
        @protected = value is 'true'
      when 'shortDescription'
        @shortDescription = value
      when 'value'
        @value = value
      else throw new Error "unknown field #{field} on labels object"

module.exports = factory
