# generated by crampon

class Factory
  build: (tag) ->
    switch tag.tag
      when 'Layout'
        Builder = Layout
      when 'layoutSections'
        Builder = LayoutSection
      when 'relatedLists'
        Builder = RelatedList
      when 'summaryLayout'
        Builder = SummaryLayout
      when 'miniLayout'
        Builder = MiniLayout
      when 'layoutColumns'
        Builder = LayoutColumn
      when 'layoutItems'
        Builder = LayoutItem
      else throw new Error "unknown tag type #{tag.tag}"

    thing = new Builder()
    tag.getchildren().forEach (child) ->
      thing.set child.tag, child.text, child
    thing

factory = new Factory()

class Layout
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'layoutSections'
        @layoutSections = value
      when 'showEmailCheckbox'
        @showEmailCheckbox = value is 'true'
      when 'showRunAssignmentRulesCheckbox'
        @showRunAssignmentRulesCheckbox = value is 'true'
      when 'showSubmitAndAttachButton'
        @showSubmitAndAttachButton = value is 'true'
      else throw new Error "unknown field #{field} on Layout object"

class LayoutSection
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'customLabel'
        @customLabel = value is 'true'
      when 'detailHeading'
        @detailHeading = value is 'true'
      when 'editHeading'
        @editHeading = value is 'true'
      when 'label'
        @label = value
      when 'layoutColumns'
        @layoutColumns = value
      when 'style'
        @style = value
      else throw new Error "unknown field #{field} on layoutSections object"

class RelatedList
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'fields'
        @fields = value
      when 'relatedList'
        @relatedList = value
      when 'sortField'
        @sortField = value
      when 'sortOrder'
        @sortOrder = value
      when 'excludeButtons'
        @excludeButtons = value
      else throw new Error "unknown field #{field} on relatedLists object"

class SummaryLayout
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'masterLabel'
        @masterLabel = value
      when 'sizeX'
        @sizeX = parseInt value, 10
      when 'sizeY'
        @sizeY = parseInt value, 10
      when 'summaryLayoutStyle'
        @summaryLayoutStyle = value
      else throw new Error "unknown field #{field} on summaryLayout object"

class MiniLayout
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'fields'
        @fields = value
      when 'relatedLists'
        @relatedLists = value
      else throw new Error "unknown field #{field} on miniLayout object"

class LayoutColumn
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'layoutItems'
        @layoutItems = value
      else throw new Error "unknown field #{field} on layoutColumns object"

class LayoutItem
  constructor: ->

  set: (field, value, tag) ->
    switch field
      when 'behavior'
        @behavior = value
      when 'field'
        @field = value
      else throw new Error "unknown field #{field} on layoutItems object"

module.exports = factory
